{"version":3,"sources":["components/Colors.tsx","components/Context.tsx","components/Constants.ts","components/Arena/Input.tsx","components/Arena/arena.tsx","components/analytics.ts","components/Starter.tsx","components/Congrats.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Color","HighlightColors","BAD","bg","RED","text","WHITE","GREAT","TEST","NONE","LIGHT_GREY","BLACK","DONE","GREEN","AppContext","React","createContext","words","setWords","displayedWords","setDisplayedWords","updateWord","currentWord","nextWord","entered","setEntered","lastEntered","setLastEntered","wpm","setWpm","stopTimer","time","setTime","charCount","setCharCount","timer","lastWord","setLastWord","currentSum","setCurrentSum","ArenaContext","typing","setTyping","TimerContext","startTimer","strings","start","useStyles","makeStyles","root","display","flexGrow","input","textDecoration","fontSize","textAlign","UserInput","ref","useRef","classes","useContext","handleWordUpdate","e","target","value","updateColor","currentIndex","isOk","word","startsWith","isDone","highlight","current","getElementsByTagName","TextField","inputRef","focus","autoFocus","fullWidth","onChange","InputProps","WordBox","index","style","padding","fontWeight","color","slice","length","Display","flexWrap","map","i","WPMDisplay","Paper","elevation","Typography","variant","WPM","useEffect","timeMins","Math","ceil","DisplayBar","Grid","item","xs","container","paddingTop","justifyContent","alignItems","Arena","useState","Provider","margin","marginTop","minHeight","track","ReactGA","initialize","pageview","window","location","pathname","Starter","setStarted","flex","flexDirection","minWidth","Button","onClick","preventDefault","startPractice","Congrats","confetti","setConfetti","width","innerWidth","toString","height","innerHeight","setTimeout","active","config","direction","paddingBottom","sm","theme","createStyles","backgroundColor","colors","brown","overflow","Wrapper","children","className","App","setCurrentWord","started","done","setDone","getWords","fetch","then","res","array","j","floor","random","durstenfeldShuffle","split","updateTime","clearTimeout","updatedDisplay","WORD_COUNT","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.1b7eaf95.chunk.js","sourcesContent":["export enum Color {\n  RED = \"#c41414\",\n  GREEN = \"green\",\n  NONE = \"inherit\",\n  WHITE = \"white\",\n  BLACK = \"black\",\n  LIGHT_GREY = \"#c2c2c2\",\n  DARK_GREY = \"darkgray\",\n  TEST = \"#626262\",\n}\n\nexport interface ThemeColor {\n  bg: Color;\n  text: Color;\n}\n\nexport type ThemeColors = ThemeColor[];\n\n// the interface\nexport interface HighlightColor {\n  BAD: ThemeColor;\n  GREAT: ThemeColor;\n  NONE: ThemeColor;\n  DONE: ThemeColor;\n}\n\n// the star: object\nexport const HighlightColors: HighlightColor = {\n  BAD: {\n    bg: Color.RED,\n    text: Color.WHITE,\n  },\n  GREAT: {\n    bg: Color.TEST,\n    text: Color.WHITE,\n  },\n  NONE: {\n    bg: Color.LIGHT_GREY,\n    text: Color.BLACK,\n  },\n  DONE: {\n    bg: Color.GREEN,\n    text: Color.BLACK,\n  },\n};\n","import React, { createContext } from \"react\";\nimport { ThemeColor } from \"./Colors\";\n\nexport interface Word {\n  word: string;\n  highlight: ThemeColor;\n}\n\ninterface WordsContext {\n  words: Word[];\n  displayedWords: Word[];\n  setDisplayedWords: Function;\n  setWords: Function;\n  updateWord: Function;\n  currentWord: number;\n  nextWord: Function;\n  entered: string;\n  setEntered: Function;\n  lastEntered: string;\n  setLastEntered: Function;\n  wpm: number;\n  setWpm: Function;\n  stopTimer: Function;\n  time: number;\n  setTime: Function;\n  charCount: number;\n  setCharCount: Function;\n  timer: number;\n  lastWord: number;\n  setLastWord: Function;\n  currentSum: number;\n  setCurrentSum: Function;\n}\n\nconst AppContext = React.createContext<WordsContext>({\n  words: [],\n  setWords: () => {},\n  displayedWords: [],\n  setDisplayedWords: () => {},\n  updateWord: () => {},\n  currentWord: 0,\n  nextWord: () => {},\n  entered: \"\",\n  setEntered: () => {},\n  lastEntered: \"\",\n  setLastEntered: () => {},\n  wpm: 0,\n  setWpm: () => {},\n  stopTimer: () => {},\n  time: -1,\n  setTime: () => {},\n  charCount: 0,\n  setCharCount: () => {},\n  timer: 0,\n  lastWord: -1,\n  setLastWord: () => {},\n  currentSum: 0,\n  setCurrentSum: () => {},\n});\n\ninterface TypingContext {\n  typing: boolean;\n  setTyping: Function;\n}\n\nconst ArenaContext = createContext<TypingContext>({\n  typing: false,\n  setTyping: () => {},\n});\n\ninterface TimeContext {\n  startTimer: Function;\n  stopTimer: Function;\n}\n\nconst TimerContext = createContext<TimeContext>({\n  startTimer: () => {},\n  stopTimer: () => {},\n});\n\nexport { AppContext, ArenaContext, TimerContext };\n","export const WORD_COUNT = 100;\nexport const WORD_SIZE = 5;\nexport const TRACKING_ID = \"UA-186342924-1\";\n\nconst strings = {\n  starter: {\n    start: \"START\",\n  },\n};\n\nexport { strings };\n","import React, { ChangeEvent, useContext, useRef } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { HighlightColors } from \"../Colors\";\nimport { AppContext, ArenaContext, TimerContext, Word } from \"../Context\";\nimport { WORD_COUNT } from \"../Constants\";\n\nconst useStyles = makeStyles({\n  root: {\n    display: \"flex\",\n    flexGrow: 1,\n  },\n  input: {\n    textDecoration: \"none\",\n    fontSize: 50,\n    textAlign: \"center\",\n  },\n});\n\nconst longestCommonSubstring = (first: string, second: string) => {\n  const len = first.length > second.length ? second.length : first.length;\n  let word = \"\";\n  for (let i = 0; i < len; i++) {\n    const ch = first.charAt(i);\n    if (ch === second.charAt(i)) {\n      word += ch;\n    }\n  }\n\n  return word;\n};\n\nconst UserInput = () => {\n  const ref = useRef<HTMLInputElement>(null);\n  const classes = useStyles();\n\n  const {\n    displayedWords,\n    currentWord,\n    updateWord,\n    nextWord,\n    setEntered,\n    stopTimer,\n    setTime,\n    charCount,\n    setCharCount,\n  } = useContext(AppContext);\n\n  const { startTimer } = useContext(TimerContext);\n\n  const { typing, setTyping } = useContext(ArenaContext);\n\n  const clearInput = () => {\n    if (!ref.current) {\n      return;\n    }\n    ref.current.getElementsByTagName(\"input\")[0].value = \"\";\n  };\n\n  // Checking and updating highlights if needed\n  const handleWordUpdate = (\n    e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\n  ) => {\n    const entered = e.target.value;\n    setEntered(entered);\n\n    //   console.log(\"updating word...\", started);\n\n    // start timer\n    // if (started && currentWord === 0 && entered) {\n    //   console.log(\"starting timer...\");\n    //   startTimer();\n    // }\n\n    if (currentWord === 0 && entered && !typing) {\n      startTimer();\n      setTyping(true);\n    }\n\n    if (currentWord >= WORD_COUNT) {\n      return;\n    }\n\n    const currentIndex = displayedWords[currentWord];\n    const isOk = currentIndex.word.startsWith(entered);\n    const isDone = entered === currentIndex.word + \" \";\n\n    let updateColor;\n\n    if (isDone) {\n      updateColor = HighlightColors.DONE;\n    } else if (!entered) {\n      updateColor = HighlightColors.NONE;\n    } else {\n      updateColor = isOk ? HighlightColors.GREAT : HighlightColors.BAD;\n    }\n\n    const shouldUpdate = updateColor !== currentIndex.highlight;\n\n    shouldUpdate && updateWord(currentWord, updateColor);\n    if (isDone) {\n      clearInput();\n      nextWord();\n    }\n\n    if (isOk) {\n      setCharCount(charCount + 1);\n    }\n  };\n\n  return (\n    <TextField\n      ref={ref}\n      inputRef={(input) => input && input.focus()}\n      autoFocus\n      fullWidth\n      onChange={(e) => handleWordUpdate(e)}\n      InputProps={{\n        classes: {\n          root: classes.root,\n          input: classes.input,\n        },\n      }}\n    />\n  );\n};\n\nexport { UserInput as default };\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Grid, Paper, Typography, Button } from \"@material-ui/core\";\nimport UserInput from \"./Input\";\nimport { HighlightColors, ThemeColor } from \"../Colors\";\nimport { AppContext, ArenaContext } from \"../Context\";\nimport { WORD_SIZE } from \"../Constants\";\nimport { throttle } from \"lodash\";\n\ninterface WordProps {\n  highlight: ThemeColor;\n  index: number;\n  word: string;\n  currentWord: boolean;\n}\n\nconst WordBox = ({ highlight, index, word, currentWord }: WordProps) => {\n  return (\n    <span\n      style={{\n        padding: \"10px\",\n        fontSize: 25,\n        fontWeight: 500,\n        textDecoration: currentWord ? \"underline\" : \"none\",\n      }}\n    >\n      <span\n        style={{\n          // backgroundColor: highlight.bg,\n          color: highlight.bg,\n        }}\n      >\n        {word.slice(0, index)}\n      </span>\n      <span\n        style={{\n          color: HighlightColors.NONE.bg,\n        }}\n      >\n        {word.slice(index, word.length)}\n      </span>\n    </span>\n  );\n};\n\ninterface compareProps {\n  entered: string;\n  word: string;\n}\n\nconst compare = ({ entered, word }: compareProps) => {\n  for (let i = 0; i < word.length; i++) {\n    if (i >= entered.length || entered[i] !== word[i]) {\n      return i;\n    }\n  }\n  return word.length;\n};\n\nconst Display = () => {\n  const { displayedWords, entered, currentWord } = useContext(AppContext);\n  return (\n    <div style={{ display: \"flex\", flexWrap: \"wrap\", padding: \"10px\" }}>\n      {displayedWords.map((word, i) => (\n        <WordBox\n          key={word.word}\n          highlight={word.highlight}\n          index={i === currentWord ? entered.length : word.word.length}\n          word={word.word}\n          currentWord={i === currentWord}\n        />\n      ))}\n    </div>\n  );\n};\n\n// const WPM = () => {\n//   const {\n//     entered,\n//     lastEntered,\n//     setLastEntered,\n//     charCount,\n//     setCharCount,\n//     currentWord,\n//     lastWord,\n//     setLastWord,\n//     words,\n//     wpm,\n//     setWpm,\n//     time,\n//     setTime,\n//     timer,\n//     currentSum,\n//   } = useContext(AppContext);\n\n//   const getCharCount = () => {\n//     if (lastWord === currentWord) {\n//       if (entered === lastEntered) {\n//         return charCount;\n//       } else {\n//         return currentSum + entered.length;\n//       }\n//     }\n//     setLastEntered(entered);\n//     setLastWord(currentWord);\n//     if (currentWord === 0) {\n//       return entered.length;\n//     }\n//     return currentSum + words[currentWord - 1].word.length;\n//   };\n\n//   const getWPM = () => {\n//     // if timer is not started, ignore\n//     if (!timer) {\n//       return 0;\n//     }\n\n//     // Calculate wpm based on ((words completed)/(time elapsed))\n//     const charsCompleted = charCount;\n//     const elapsedSeconds = (Date.now() - timer) / 1000;\n\n//     // a word is 5 characters\n//     return Math.round((charsCompleted / (WORD_SIZE * elapsedSeconds)) * 60);\n//   };\n\n//   const tick = () => {\n//     if (time > 100) {\n//       setTime(0);\n//     } else {\n//       setTime(time + 1);\n//     }\n//   };\n\n//   useEffect(() => {\n//     // console.log(\"ok\");\n//     throttle(() => {\n//       //   console.log(\"running\");\n//       setCharCount(getCharCount());\n//     }, 1000)();\n//     setTimeout(tick, 1200);\n//   }, [time]);\n\n//   return <WPMDisplay wpm={wpm} />;\n// };\n\nconst WPMDisplay = () => {\n  const { wpm } = useContext(AppContext);\n  return (\n    <Paper elevation={3}>\n      <Typography variant=\"h5\" style={{ padding: \"1rem\" }}>\n        WPM: {wpm}\n      </Typography>\n    </Paper>\n  );\n};\n\nconst WPM = () => {\n  // measure WPM every 1 second\n  const { time, charCount, setWpm } = useContext(AppContext);\n\n  useEffect(() => {\n    if (time < 1) {\n      return;\n    }\n    // console.log(\"oh would you look at the index:\", charCount);\n    const timeMins = time / 60;\n    const wpm = Math.ceil((charCount + 1) / (WORD_SIZE * timeMins));\n\n    setWpm(wpm);\n  }, [time]);\n\n  return <WPMDisplay />;\n};\n\nconst DisplayBar = () => {\n  return (\n    <Grid\n      item\n      xs={3}\n      container\n      style={{\n        padding: \"2rem\",\n        paddingTop: \"3rem\",\n        justifyContent: \"flex-end\",\n      }}\n    >\n      <Grid item xs={7} />\n      <Grid\n        item\n        xs={5}\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          alignItems: \"flex-start\",\n        }}\n      >\n        <WPM />\n      </Grid>\n    </Grid>\n  );\n};\n\nconst Arena = () => {\n  const [typing, setTyping] = useState(false);\n  const { entered, time } = useContext(AppContext);\n  // useEffect(() => {\n  //   console.log(\"entered\", entered);\n  //   console.log(\"time\", time);\n  // });\n\n  return (\n    <ArenaContext.Provider\n      value={{\n        typing,\n        setTyping,\n      }}\n    >\n      <Grid container>\n        <DisplayBar />\n        <Grid item container xs={9} style={{ justifyContent: \"flex-begin\" }}>\n          <Grid\n            item\n            container\n            xs={10}\n            style={{\n              padding: \"1rem\",\n            }}\n          >\n            <Grid item container style={{ justifyContent: \"flex-begin\" }}>\n              <Grid item>\n                <Paper\n                  elevation={5}\n                  style={{\n                    margin: \"1rem\",\n                    marginTop: \"2rem\",\n                    display: \"flex\",\n                    flexGrow: 1,\n                    minHeight: 400,\n                  }}\n                >\n                  <Display />\n                </Paper>\n              </Grid>\n            </Grid>\n            <Grid\n              item\n              container\n              // xs={12}\n              style={{ justifyContent: \"flex-begin\" }}\n            >\n              <Grid\n                item\n                container\n                style={{ display: \"flex\", justifyContent: \"center\" }}\n              >\n                <Paper\n                  elevation={3}\n                  style={{\n                    margin: \"1rem 1.5rem\",\n                    display: \"flex\",\n                    flexGrow: 1,\n                  }}\n                >\n                  <UserInput />\n                </Paper>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </ArenaContext.Provider>\n  );\n};\n\nexport default Arena;\n","import { TRACKING_ID } from \"./Constants\";\nimport ReactGA from \"react-ga\";\n\nconst track = () => {\n  ReactGA.initialize(TRACKING_ID);\n  ReactGA.pageview(window.location.pathname);\n};\n\nexport { track };\n","import React from \"react\";\nimport { Grid, Paper, Button, Typography } from \"@material-ui/core\";\n\nimport { strings } from \"./Constants\";\n\nconst startPractice = (\n  e: React.MouseEvent<HTMLButtonElement, MouseEvent>,\n  setStarted: Function\n) => {\n  e.preventDefault();\n  setStarted(true);\n};\n\nexport interface StarterProps {\n  setStarted: Function;\n}\n\nconst Starter = ({ setStarted }: StarterProps) => {\n  return (\n    <Grid\n      item\n      container\n      style={{\n        display: \"flex\",\n        flex: 1,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        flexDirection: \"column\",\n      }}\n    >\n      <Paper\n        style={{\n          minHeight: 400,\n          minWidth: 400,\n          display: \"flex\",\n          flex: 1,\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          flexDirection: \"column\",\n        }}\n      >\n        <Button onClick={(e) => startPractice(e, setStarted)}>\n          <Typography variant=\"h1\">{strings.starter.start}</Typography>\n        </Button>\n      </Paper>\n    </Grid>\n  );\n};\n\nexport default Starter;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Grid, Paper, Typography } from \"@material-ui/core\";\nimport Confetti from \"react-dom-confetti\";\nimport { AppContext } from \"./Context\";\n\nconst Congrats = () => {\n  const { wpm } = useContext(AppContext);\n  const [confetti, setConfetti] = useState(true);\n  const width = window.innerWidth.toString();\n  const height = window.innerHeight.toString();\n\n  useEffect(() => {\n    setTimeout(() => setConfetti(true), 1000);\n  }, []);\n\n  return (\n    <>\n      <Confetti active={confetti} config={{ width, height }} />\n      <Grid container direction=\"column\">\n        <Grid item xs={2} />\n        <Grid item container>\n          <Grid item xs={1} />\n\n          <Grid item container xs={10}>\n            <Grid item container style={{ justifyContent: \"center\" }}>\n              <Grid item xs={10}>\n                <Paper\n                  elevation={5}\n                  style={{\n                    margin: \"1.5rem\",\n                    display: \"flex\",\n                    flexGrow: 1,\n                    flexDirection: \"column\",\n                    padding: 20,\n                    minHeight: 400,\n                  }}\n                >\n                  <div\n                    style={{\n                      display: \"flex\",\n                      flexGrow: 1,\n                      justifyContent: \"center\",\n                      alignItems: \"flex-end\",\n                      paddingBottom: 35,\n                    }}\n                  >\n                    <Typography\n                      variant=\"h2\"\n                      style={{\n                        textAlign: \"center\",\n                        fontWeight: 450,\n                      }}\n                    >\n                      Congratulations!\n                    </Typography>\n                  </div>\n                  <div\n                    style={{\n                      display: \"flex\",\n                      flexGrow: 1,\n                      justifyContent: \"center\",\n                      alignItems: \"flex-start\",\n                    }}\n                  >\n                    <Typography variant=\"h5\" style={{ textAlign: \"center\" }}>\n                      Your typing speed was <strong>{wpm}</strong> words per\n                      minute\n                    </Typography>\n                  </div>\n                </Paper>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Grid item sm={1} />\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nexport { Congrats };\n","import React, { useState, useEffect } from \"react\";\n\nimport Arena from \"./components/Arena/arena\";\nimport { Word, AppContext, TimerContext } from \"./components/Context\";\nimport \"./App.css\";\nimport { HighlightColors, ThemeColor } from \"./components/Colors\";\nimport { makeStyles, Theme, createStyles, colors } from \"@material-ui/core\";\nimport { WORD_COUNT, WORD_SIZE } from \"./components/Constants\";\nimport { track } from \"./components/analytics\";\nimport Starter from \"./components/Starter\";\nimport UserInput from \"./components/Arena/Input\";\nimport { Congrats } from \"./components/Congrats\";\n\n// What a legend\nconst durstenfeldShuffle = (array: string[]) => {\n  for (let i = array.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [array[i], array[j]] = [array[j], array[i]];\n  }\n  return array;\n};\n\nconst App = () => {\n  const [words, setWords] = useState<Word[]>([]);\n  const [displayedWords, setDisplayedWords] = useState<Word[]>([]);\n  const [currentWord, setCurrentWord] = useState<number>(0);\n  const [entered, setEntered] = useState<string>(\"\");\n  const [lastEntered, setLastEntered] = useState<string>(\"\");\n  const [wpm, setWpm] = useState<number>(0);\n  const [timer, setTimer] = useState<number>(0);\n  const [charCount, setCharCount] = useState<number>(0);\n  const [started, setStarted] = useState<boolean>(false);\n  const [time, setTime] = useState<number>(-1);\n  const [lastWord, setLastWord] = useState<number>(-1);\n  const [currentSum, setCurrentSum] = useState<number>(0);\n\n  const [done, setDone] = useState(false);\n\n  // imagine not using a hardcoded list of words\n  // Jk, this is temporary\n  const getWords = (setWords: Function) => {\n    fetch(\"/words.txt\")\n      .then((res) => res.text())\n      .then((text) =>\n        setWords(\n          durstenfeldShuffle(text.split(\" \")).map((word) => ({\n            word,\n            highlight: HighlightColors.NONE,\n          }))\n        )\n      );\n  };\n\n  // update the word at position\n  const updateWord = (index: number, updateColor: ThemeColor) => {\n    const updatedDisplay = [...displayedWords];\n    updatedDisplay[index] = {\n      ...updatedDisplay[index],\n      highlight: updateColor,\n    };\n    setDisplayedWords(updatedDisplay);\n  };\n\n  const startTimer = () => {\n    if (done) {\n      return;\n    }\n    setTime(0);\n  };\n\n  const stopTimer = () => {\n    if (!started) {\n      return;\n    }\n    setDone(true);\n  };\n\n  const nextWord = () => {\n    if (currentWord >= WORD_COUNT - 1) {\n      stopTimer();\n      setDone(true);\n    }\n    setCurrentWord(currentWord + 1);\n  };\n  useEffect(track);\n\n  useEffect(() => {\n    getWords(setWords);\n  }, []);\n\n  useEffect(() => {\n    setDisplayedWords(words.slice(0, WORD_COUNT));\n  }, [words]);\n\n  useEffect(() => {\n    if (started) {\n      setCurrentSum(currentSum + words[currentWord - 1].word.length);\n    }\n  }, [currentWord]);\n\n  useEffect(() => {\n    if (!started) {\n      return;\n    }\n    const updateTime = setTimeout(() => {\n      setTime(time + 1);\n    }, 1000);\n    return () => clearTimeout(updateTime);\n  }, [time]);\n\n  return (\n    <TimerContext.Provider value={{ startTimer, stopTimer }}>\n      <AppContext.Provider\n        value={{\n          words,\n          setWords,\n          displayedWords,\n          setDisplayedWords,\n          updateWord,\n          currentWord,\n          nextWord,\n          entered,\n          setEntered,\n          lastEntered,\n          setLastEntered,\n          wpm,\n          setWpm,\n          stopTimer,\n          time,\n          setTime,\n          charCount,\n          setCharCount,\n          timer,\n          lastWord,\n          setLastWord,\n          currentSum,\n          setCurrentSum,\n        }}\n      >\n        <Wrapper>\n          {started ? (\n            done ? (\n              <Congrats />\n            ) : (\n              <Arena />\n            )\n          ) : (\n            <Starter setStarted={setStarted} />\n          )}\n        </Wrapper>\n      </AppContext.Provider>\n    </TimerContext.Provider>\n  );\n};\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      height: \"100%\",\n      display: \"flex\",\n      flex: 1,\n      backgroundColor: colors.brown[200],\n      overflow: \"scroll\",\n    },\n  })\n);\n\nconst Wrapper: React.FC = ({ children }) => {\n  const classes = useStyles();\n  return <div className={classes.root}>{children}</div>;\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}